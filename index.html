<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aventura Indiana Jones</title>
<style>
html, body {margin:0; padding:0; font-family: Arial, sans-serif; background:#6a583f;}
.wrap{display:flex; align-items:center; justify-content:center; height:100vh; position:relative;}
.game-container{
  width:90vw; max-width:800px; background:#f0e2c8; border-radius:12px; padding:20px; box-shadow:0 10px 30px rgba(0,0,0,0.5); color:#35200f;
}
h2{margin-top:0;}
.options{display:flex; flex-direction:column; margin-top:10px;}
.options button{
  margin:5px 0; padding:10px; border:none; border-radius:8px; background:#b98b5a; color:#fff; cursor:pointer; font-weight:700; transition:0.2s;
}
.options button:hover{background:#8b5a2b;}
.hidden{display:none;}
#level4-container{position:relative; height:400px; background:#d9c09d; margin-top:20px; border-radius:12px;}
.hotspot{
  position:absolute; width:50px; height:50px; transform:translate(-50%,-50%);
  cursor:pointer; display:flex; align-items:center; justify-content:center; border-radius:12px;
  font-weight:900; font-size:22px; color:#6b3f1f; background:#f7edd6;
  box-shadow:0 2px 4px rgba(0,0,0,0.25); transition:0.2s;
}
.hotspot.found{transform:translate(-50%,-50%) scale(1.3);}
.hotspot.wrong{animation:shake 0.3s;}
@keyframes shake{
  0%{transform:translate(-50%,-50%) rotate(0deg);}
  25%{transform:translate(-50%,-50%) rotate(-10deg);}
  50%{transform:translate(-50%,-50%) rotate(10deg);}
  75%{transform:translate(-50%,-50%) rotate(-10deg);}
  100%{transform:translate(-50%,-50%) rotate(0deg);}
}
#modal{
  position:fixed; inset:0; display:flex; justify-content:center; align-items:center; background:rgba(0,0,0,0.5); opacity:0; pointer-events:none; transition:0.3s;
}
#modal.show{opacity:1; pointer-events:auto;}
.card{background:#fffef6; padding:20px; border-radius:12px; text-align:center; box-shadow:0 10px 30px rgba(0,0,0,0.5);}
.chest{width:120px; height:80px; background:#8b5a2b; margin:15px auto 0; border-radius:8px; position:relative; overflow:hidden;}
.chest-lid{width:120px;height:40px;background:#b98b5a;border-radius:8px;position:absolute;top:0;left:0; transform-origin:top; transition: transform 0.6s ease;}
.chest.open .chest-lid{transform:rotateX(60deg);}
</style>
</head>
<body>

<div class="wrap">
  <div class="game-container">
    <!-- Niveles 1-3 -->
    <div id="quiz-container">
      <h2 id="question">Pregunta</h2>
      <div class="options" id="options"></div>
    </div>

    <!-- Nivel 4 -->
    <div id="level4-container" class="hidden">
      <div class="hotspot" id="h1" style="left:20%;top:60%;">X</div>
      <div class="hotspot" id="h2" style="left:42%;top:42%;">X</div>
      <div class="hotspot" id="h3" style="left:65%;top:28%;">X</div>
      <div class="hotspot" id="h4" style="left:30%;top:30%;">X</div>
      <div class="hotspot" id="h5" style="left:55%;top:50%;">X</div>
      <div class="hotspot" id="h6" style="left:75%;top:60%;">X</div>
    </div>

    <!-- Modal final -->
    <div id="modal">
      <div class="card">
        <h1>¡¡Vla, pasaste!!</h1>
        <p>¿Quieres ir al cine?</p>
        <div class="movie">Indiana Jones: Raiders of the Lost Ark</div>
        <div class="chest" id="chest"><div class="chest-lid"></div></div>
      </div>
    </div>

  </div>
</div>

<script>
// Preguntas y respuestas
const quizData = [
  {
    question: "¿Cuál es la ciudad antigua famosa por sus edificios tallados directamente en la roca en Jordania?",
    options: ["Petra", "El Cairo", "Jerusalén"],
    answer: "Petra"
  },
  {
    question: "¿Qué ciudadela construida por los incas en lo alto de los Andes es famosa por sus terrazas agrícolas y su impresionante ubicación en la montaña?",
    options: ["Machu Picchu", "Cusco", "Sacsayhuamán"],
    answer: "Machu Picchu"
  },
  {
    question: "Varias culturas construyeron grandes pirámides, algunas como templos y otras como tumbas. ¿Cuál de estas pirámides es la más grande jamás construida como tumba para un gobernante?",
    options: ["Pirámide de Keops", "Pirámide de Chichén Itzá", "Pirámide de Kefrén"],
    answer: "Pirámide de Keops"
  }
];

let currentLevel = 0;
const questionEl = document.getElementById("question");
const optionsEl = document.getElementById("options");
const quizContainer = document.getElementById("quiz-container");
const level4Container = document.getElementById("level4-container");
const modal = document.getElementById("modal");
const chest = document.getElementById("chest");

function loadQuestion(){
  const current = quizData[currentLevel];
  questionEl.textContent = current.question;
  optionsEl.innerHTML = "";
  current.options.forEach(opt=>{
    const btn = document.createElement("button");
    btn.textContent = opt;
    btn.addEventListener("click", ()=>{
      if(opt===current.answer){
        currentLevel++;
        if(currentLevel<quizData.length){
          loadQuestion();
        } else {
          // Mostrar nivel 4
          quizContainer.classList.add("hidden");
          level4Container.classList.remove("hidden");
        }
      } else {
        alert("¡Cuidado, esa respuesta es incorrecta!");
      }
    });
    optionsEl.appendChild(btn);
  });
}

loadQuestion();

// Nivel 4 - X
let found = 0;
const correctIds = ['h1','h2','h3'];
const hotspots = document.querySelectorAll('#level4-container .hotspot');

hotspots.forEach(h=>{
  h.addEventListener('click', ()=>{
    if(h.classList.contains('found') || h.classList.contains('wrong')) return;
    if(correctIds.includes(h.id)){
      h.classList.add('found');
      found++;
      if(found===correctIds.length){
        modal.classList.add('show');
        chest.classList.add('open');
      }
    } else {
      h.classList.add('wrong');
      setTimeout(()=> h.classList.remove('wrong'),500);
    }
  });
});
</script>

</body>
</html>
