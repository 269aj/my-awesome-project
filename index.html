<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mapa Indiana Jones</title>
<style>
html, body {margin:0; padding:0; height:100%; font-family:Arial, sans-serif; background:#6a583f;}
.wrap{display:flex; align-items:center; justify-content:center; height:100%; position:relative;}
.map-container{
  width:90vw; max-width:960px; aspect-ratio:16/10; position:relative;
  background:#f0e2c8; border-radius:12px; overflow:hidden;
  box-shadow:0 20px 40px rgba(0,0,0,0.5), inset 0 2px 0 rgba(255,255,255,0.3);
}
.map-container::before{
  content:""; position:absolute; inset:0;
  background-image:
    radial-gradient(circle at 10% 10%, rgba(0,0,0,0.03) 0 1px, transparent 2px),
    radial-gradient(circle at 90% 80%, rgba(0,0,0,0.02) 0 1px, transparent 2px),
    repeating-linear-gradient(90deg, rgba(0,0,0,0.01) 0 1px, transparent 1px 40px);
  mix-blend-mode:multiply; opacity:0.6; pointer-events:none;
}
.title{position:absolute; top:12px; left:16px; color:#6b3f1f; font-weight:700; font-size:18px; letter-spacing:0.05em; text-shadow:0 1px 0 rgba(255,255,255,0.6);}
.instructions{
  position:absolute; inset:0; background:rgba(0,0,0,0.65); color:#fff; display:flex;
  align-items:center; justify-content:center; flex-direction:column; text-align:center; padding:20px; z-index:5;
}
.instructions p{margin-bottom:18px;font-size:16px;}
.start-btn{padding:12px 20px;background:#6b3f1f;color:#fff;border:none;border-radius:8px;font-weight:700;font-size:16px;cursor:pointer;}
.start-btn:hover{background:#7c4b22;}
/* Hotspots */
.hotspot{
  position:absolute; width:50px; height:50px; transform:translate(-50%,-50%);
  cursor:pointer; display:flex; align-items:center; justify-content:center; border-radius:12px;
  font-weight:900; font-size:22px; color:#6b3f1f; text-shadow:0 2px 0 rgba(255,255,255,0.35);
  background:#f7edd6; background-image:repeating-linear-gradient(45deg, #f7edd6, #f7edd6 4px, #e0d2b0 4px, #e0d2b0 8px);
  box-shadow: 0 2px 4px rgba(0,0,0,0.25); transition:0.2s;
}
.hotspot.found{transform:translate(-50%,-50%) scale(1.3);}
.hotspot.wrong{animation:shake 0.3s;}
@keyframes shake{
  0%{transform:translate(-50%,-50%) rotate(0deg);}
  25%{transform:translate(-50%,-50%) rotate(-10deg);}
  50%{transform:translate(-50%,-50%) rotate(10deg);}
  75%{transform:translate(-50%,-50%) rotate(-10deg);}
  100%{transform:translate(-50%,-50%) rotate(0deg);}
}
/* Modal final */
.modal{position:absolute; inset:0; background:rgba(0,0,0,0.5); display:flex; align-items:center; justify-content:center; opacity:0; pointer-events:none; transition:0.3s;}
.modal.show{opacity:1; pointer-events:auto;}
.card{background:linear-gradient(180deg,#fffef6,#f7edd6); border-radius:12px; padding:20px; text-align:center; box-shadow:0 20px 40px rgba(0,0,0,0.45); position:relative;}
.card h1{margin:0; font-size:26px; color:#35200f;}
.card p{margin:8px 0 12px; font-size:18px;}
.movie{font-weight:800; color:#612e0d; margin-top:6px; font-size:16px;}
.chest{position:absolute; bottom:0; left:50%; transform:translateX(-50%) scale(0); width:120px; height:80px; background:#8b5a2b; border-radius:8px; transition:transform 0.6s ease; overflow:hidden;}
.chest.open{transform:translateX(-50%) scale(1);}
.chest-lid{width:120px;height:40px;background:#b98b5a;border-radius:8px;position:absolute;top:0;left:0; transform-origin:top; transition: transform 0.6s ease;}
.chest.open .chest-lid{transform:rotateX(60deg);}
.hat, .whip{
  position:absolute; width:40px; height:20px; background:#222; border-radius:50%;
  top:-30px; left:50%; transform:translateX(-50%) translateY(-30px); opacity:0; transition:0.6s;
}
.whip{width:60px; height:6px; background:#633; border-radius:3px; top:-20px;}
.hat.show, .whip.show{opacity:1; transform:translateX(-50%) translateY(0);}
</style>
</head>
<body>
<div class="wrap">
  <div class="map-container">
    <div class="title">Mapa del Tesoro</div>
    <div class="instructions" id="instructions">
      <p>Explora el mapa y haz clic en los lugares que creas que esconden el tesoro.<br>Cuidado… algunos son trampas.</p>
      <button class="start-btn" id="startBtn">Comenzar la aventura</button>
    </div>

    <!-- Hotspots -->
    <div class="hotspot" id="h1" style="left:20%;top:60%;">X</div>
    <div class="hotspot" id="h2" style="left:42%;top:42%;">X</div>
    <div class="hotspot" id="h3" style="left:65%;top:28%;">X</div>
    <div class="hotspot" id="h4" style="left:30%;top:30%;">X</div>
    <div class="hotspot" id="h5" style="left:55%;top:50%;">X</div>
    <div class="hotspot" id="h6" style="left:75%;top:60%;">X</div>

    <!-- Modal final -->
    <div class="modal" id="modal">
      <div class="card">
        <h1>¡¡Vla, pasaste!!</h1>
        <p>¿Quieres ir al cine?</p>
        <div class="movie">Indiana Jones: Raiders of the Lost Ark</div>
        <div class="chest" id="chest">
          <div class="chest-lid"></div>
          <div class="hat" id="hat"></div>
          <div class="whip" id="whip"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
const startBtn = document.getElementById('startBtn');
const instructions = document.getElementById('instructions');
const modal = document.getElementById('modal');
const chest = document.getElementById('chest');
const hat = document.getElementById('hat');
const whip = document.getElementById('whip');

let found = 0;
const correctIds = ['h1','h2','h3'];
const hotspots = document.querySelectorAll('.hotspot');

startBtn.addEventListener('click', ()=>{
  instructions.style.display='none';
});

hotspots.forEach(h=>{
  h.addEventListener('click', ()=>{
    if(h.classList.contains('found') || h.classList.contains('wrong')) return;
    if(correctIds.includes(h.id)){
      h.classList.add('found');
      found++;
      if(found===correctIds.length){
        modal.classList.add('show');
        chest.classList.add('open');
        setTimeout(()=>{hat.classList.add('show'); whip.classList.add('show');},600);
      }
    }else{
      h.classList.add('wrong');
      setTimeout(()=> h.classList.remove('wrong'),500);
    }
  });
});
</script>
</body>
</html>
